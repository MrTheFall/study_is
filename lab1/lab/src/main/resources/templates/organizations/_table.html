<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">

<body>
  <div th:fragment="table">
    <div class="overflow-x-auto bg-white rounded shadow">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">ID</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Название</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Полное название
            </th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Тип</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Оборот</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Сотрудники</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Рейтинг</th>
            <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Действия</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <tr th:each="o : ${page}" class="hover:bg-gray-50">
            <td class="px-4 py-2" th:text="${o.id}"></td>
            <td class="px-4 py-2" th:text="${o.name}"></td>
            <td class="px-4 py-2" th:text="${o.fullName}"></td>
            <td class="px-4 py-2" th:text="${o.type}"></td>
            <td class="px-4 py-2" th:text="${o.annualTurnover}"></td>
            <td class="px-4 py-2" th:text="${o.employeesCount}"></td>
            <td class="px-4 py-2" th:text="${o.rating}"></td>
            <td class="px-4 py-2 space-x-2">
              <a class="inline-flex items-center px-3 py-1 rounded border border-gray-300 hover:bg-gray-100 text-gray-700 text-sm"
                th:href="@{'/organizations/' + ${o.id}}">Открыть</a>
              <a class="inline-flex items-center px-3 py-1 rounded border border-indigo-500 text-indigo-600 hover:bg-indigo-50 text-sm"
                th:href="@{'/organizations/' + ${o.id} + '/edit'}">Изменить</a>
              <form th:action="@{'/organizations/' + ${o.id} + '/delete'}" method="post" class="inline"
                onsubmit="return confirm('Удалить организацию?');">
                <button
                  class="inline-flex items-center px-3 py-1 rounded border border-rose-500 text-rose-600 hover:bg-rose-50 text-sm"
                  type="submit">Удалить</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mt-4 flex items-center justify-between">
      <a class="px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-100"
        th:classappend="${page.first} ? ' opacity-50 pointer-events-none'"
        th:href="@{|?page=${page.number-1}&size=${page.size}&sort=${sort}&dir=${dir}&filterField=${filterField}&filterValue=${filterValue}|}">Назад</a>

      <span class="text-sm text-gray-600"
        th:text="${page.number+1} + ' / ' + ${page.totalPages == 0 ? 1 : page.totalPages}"></span>

      <a class="px-3 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-100"
        th:classappend="${page.last} ? ' opacity-50 pointer-events-none'"
        th:href="@{|?page=${page.number+1}&size=${page.size}&sort=${sort}&dir=${dir}&filterField=${filterField}&filterValue=${filterValue}|}">Вперед</a>
    </div>
  </div>
</body>

</html>